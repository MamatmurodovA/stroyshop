{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block content %}
    {{ header }}
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="panel panel-login">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-6">
                                <h2 class="page_title">
                                    {% trans 'Checkout' %}
                                </h2>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12">
                                {% if not user.is_authenticated %}
                                    <a href="{% url 'users:login' %}?next={{ request.path }}">{% trans 'Login' %}</a>
                                    <h4>{% trans 'OR' %} {% trans 'Continue as guest' %}</h4>
                                {% endif %}
                                <form id="checkout-form" action="" method="post" role="form" style="display: block;">
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <input type="text" name="client_name" maxlength="60"
                                               required="" id="id_client_name"
                                               placeholder="{% trans 'Client name' %}"
                                               value="{% if request.user.is_authenticated %}{{ user.first_name }} {{ user.last_name }}{% endif %}"
                                        >
                                        {% if form.client_name.errors %}
                                            <div class="help-block">
                                                {{ form.client_name.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="form-group">
                                        <input type="text" name="phone" maxlength="12"
                                               required="" id="id_phone" placeholder="{% trans 'Phone number' %}"
                                               value="{% if request.user.is_authenticated %}{{ user.phone }}{% endif %}"
                                        >
                                        {% if form.phone.errors %}
                                            <div class="help-block">
                                                {{ form.phone.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="form-group">
                                        <textarea name="shipping_address" cols="40" rows="10" required=""
                                                  id="id_shipping_address"
                                                  placeholder="{% trans 'Shipping address' %}">{% if user.is_authenticated %}{{ user.client.address }}{% endif %}</textarea>
                                        {% if form.shipping_address.errors %}
                                            <div class="help-block">
                                                {{ form.shipping_address.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-sm-6 col-sm-offset-3">
                                                <input type="submit" name="login-submit" id="login-submit" tabindex="4"
                                                       class="form-control btn btn-login" value="{% trans 'Continue' %}">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{ footer }}
{% endblock %}
